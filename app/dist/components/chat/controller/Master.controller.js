sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter"],function(t,e,n,i,o){"use strict";return e.extend("dalrae.cap.supabase.fioridemo.components.chat.controller.Master",{unread:{},onInit:function(){this.oRouter=this.getOwnerComponent().getRouter();this._bDescendingSort=false},onListItemPress:function(t){var e=this.getOwnerComponent().getHelper().getNextUIState(1),n=t.getSource().getSelectedItem().getBindingContext().getPath(),i=n.split("/").slice(-1).pop();this.oRouter.navTo("detail",{layout:e.layout,channel:i})},onSearch:function(t){var e=[],o=t.getParameter("query");if(o&&o.length>0){e=[new n("name",i.Contains,o)]}this.getView().byId("productsTable").getBinding("items").filter(e,"Application")},onAdd:function(){if(!this.popup){this.popup=new sap.m.Dialog({title:"Create a new channel",styleClass:"sapUiContentPadding",content:[new sap.m.Input({class:"sapUiSmallMargin"})],beginButton:new sap.m.Button({type:sap.m.ButtonType.Emphasized,text:"OK",press:function(){this.popup.close()}.bind(this)}),endButton:new sap.m.Button({text:"Close",press:function(){this.popup.close()}})})}this.popup.open()},onSort:function(){this._bDescendingSort=!this._bDescendingSort;var t=this.getView(),e=t.byId("productsTable"),n=e.getBinding("items"),i=new o("name",this._bDescendingSort);n.sort(i)},countFormatter:function(t){return this.unread[t]||0},countVisible:function(t){return this.unread[t]&&this.unread[t]>0}})});